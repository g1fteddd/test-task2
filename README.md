# Тестовое задание для стажёра Avito Frontend

Тех. задание: https://github.com/avito-tech/frontend-trainee-assignment-2024

## Инструкция по запуску

```bash
npm install
TOKEN=<TOKEN> npm run start
```

## Суть задания
Разработать фронтенд приложения для быстрого поиска информации по фильмам и сериалам с платформы «Кинопоиска».

## Функциональные требования
Приложение должно состоять из двух страниц:
1. ![#008000](https://placehold.co/10x10/008000/008000.png) Страница со списком всех фильмов
2. ![#008000](https://placehold.co/10x10/008000/008000.png) Страница отдельного фильма
#### На странице со списком всех фильмов:
1. ![#008000](https://placehold.co/10x10/008000/008000.png) Отображается список фильмов и сериалов
2. ![#008000](https://placehold.co/10x10/008000/008000.png) Реализована  пагинация
3. ![#008000](https://placehold.co/10x10/008000/008000.png) Можно выбрать количество фильмов для показа на странице (по умолчанию должно быть 10)
4. ![#008000](https://placehold.co/10x10/008000/008000.png) Можно отфильтровать выдачу (по году, стране и возрастному рейтингу)
5. ![#008000](https://placehold.co/10x10/008000/008000.png) Реализован поиск по названию фильма
6. ![#008000](https://placehold.co/10x10/008000/008000.png) Можно перейти на страницу фильма из выдачи
#### Будет плюсом:
1. ![#008000](https://placehold.co/10x10/008000/008000.png) Если реализована возможность поделиться результатами выдачи с другими пользователями через копирование ссылки. (Подсказка: для этого можно записывать в query-параметры фильтры и пагинацию)
2. ![#008000](https://placehold.co/10x10/008000/008000.png) Если сохраняется история поиска (например, последние 10 запросов)
3. ![#008000](https://placehold.co/10x10/008000/008000.png) Если при вводе нового названия появляется suggest с предложениями из ранее введенных значений
4. ![#ffa500](https://placehold.co/10x10/ffa500/ffa500.png) Если при вводе значений происходит фильтрация подсказок по вхождению.  Например, при вводе «бой»: могут быть предложены результаты, содержащие «бой»: «при**бой**», «**бой**кий», «беспере**бой**ность» и т.д. (Ориентир: поиск в Google, который предлагает варианты из предыдущих запросов)
5. ![#008000](https://placehold.co/10x10/008000/008000.png) Если поиск осуществляется не при каждом вводе символа, а в момент когда с ввода последнего символа прошла 1 секунда (debounce)
#### На странице с отдельным фильмом:
1. ![#008000](https://placehold.co/10x10/008000/008000.png) Отображается информация о фильме или сериале, в том числе:
	- ![#008000](https://placehold.co/10x10/008000/008000.png) название фильма/сериала
	- ![#008000](https://placehold.co/10x10/008000/008000.png) описание
	- ![#008000](https://placehold.co/10x10/008000/008000.png)рейтинг
	- ![#008000](https://placehold.co/10x10/008000/008000.png) список актёров (с пагинацией, если их больше 10); 
	- ![#008000](https://placehold.co/10x10/008000/008000.png) список сезонов и серий (с пагинацией, если они подразумеваются)) 
	- ![#008000](https://placehold.co/10x10/008000/008000.png) отзывы пользователей (с пагинацией)
	- ![#008000](https://placehold.co/10x10/008000/008000.png) постеры, отображение которых реализовано в виде «карусели»
2. ![#008000](https://placehold.co/10x10/008000/008000.png) Реализован вывод списка фильмов, похожих на текущий, в виде «карусели». По каждому элементу можно кликнуть и открыть его страницу
3. ![#008000](https://placehold.co/10x10/008000/008000.png) В случае, если какой-то из списков пустой (список отзывов, актёров, сезонов), реализовано отображение заглушки на подобие «нет информации о ...»
4. ![#008000](https://placehold.co/10x10/008000/008000.png) Реализована кнопка «назад», которая ведет на выдачу. Фильтры и номер страницы при этом должны сохраняться.
### Будет плюсом ко всей работе:
1. ![#ff0000](https://placehold.co/10x10/ff0000/ff0000.png) Если будет реализована авторизация. Проверку пароля можно захардкодить
2. ![#ff0000](https://placehold.co/10x10/ff0000/ff0000.png) Если будет реализована страница c поиском рандомного фильма как тут: [референс](https://www.kinopoisk.ru/chance/). При этом на этой странице будет реализована следующая функциональность: 
	- ![#ff0000](https://placehold.co/10x10/ff0000/ff0000.png) страница с рандомным поиском будет доступна только авторизованным пользователям
	- ![#ff0000](https://placehold.co/10x10/ff0000/ff0000.png) есть возможность установить фильтры: по жанру, по стране производства, по типу контента (сериал/фильм), по году выпуска, по рейтингу Кинопоиска (от конкретного значения), по сети производства (HBO, Netflix и т.п.)
	- ![#ff0000](https://placehold.co/10x10/ff0000/ff0000.png) есть кнопка «Случайный фильм», которая перекидывает на страницу найденного фильма

## Нефункциональные требования
1. Стек технологий:
	- ![#008000](https://placehold.co/10x10/008000/008000.png) фронтенд фреймворк: React, версия 18
	- ![#008000](https://placehold.co/10x10/008000/008000.png) можно использовать любую общедоступную библиотеку компонент. Примеры: [ant.design](https://ant.design/), [mantine](https://mantine.dev/), [react-bootstrap](https://react-bootstrap.github.io/)
	- ![#008000](https://placehold.co/10x10/008000/008000.png) сборщик: Webpack
	- ![#008000](https://placehold.co/10x10/008000/008000.png)Node.js: 18 или выше
	- ![#008000](https://placehold.co/10x10/008000/008000.png)пакетный менеджер: npm
1. ![#008000](https://placehold.co/10x10/008000/008000.png) Запуск проекта в режиме разработчика должен происходить по команде `TOKEN=<your api token> npm run start` ; проект должен быть доступен по ссылке [http://localhost:7070](http://localhost:7070)
2. ![#008000](https://placehold.co/10x10/008000/008000.png) Реализован адаптивный интерфейс: с приложением должно быть удобно работать, как с мобильного экрана, так и с десктопа
3. ![#008000](https://placehold.co/10x10/008000/008000.png) Роутинг выполнен с использованием [React Router v6](https://reactrouter.com/en/main)
4. ![#008000](https://placehold.co/10x10/008000/008000.png) При переходах по ссылкам страница не перезагружается (SPA, без next.js)

***Напомним, важно: при работе над тестовым, убедитесь, что токен не расположен в вашем GitHub публично***

**Будет плюсом:**
1. ![#008000](https://placehold.co/10x10/008000/008000.png) Использование TypeScript
2. ![#ff0000](https://placehold.co/10x10/ff0000/ff0000.png) Наличие docker-файла для запуска
3. ![#008000](https://placehold.co/10x10/008000/008000.png) Реализация возможности выполнения трёх попыток повторного запроса, если запрос был неудачным 
4. ![#008000](https://placehold.co/10x10/008000/008000.png) Если при переходе со страницы на страницу, запросы, относящиеся к старой странице, прерываются (отменяются/прекращаются)
5. ![#ff0000](https://placehold.co/10x10/ff0000/ff0000.png) Покрытие кода юнит-тестами

## Вопросы и проблемы
1. Проблема фильтров и поиска. Для поиска и фильтров используются разные эндпоинты, и у эндпоинта /search нету фильтрации. Поэтому я сделал поиск как на Кинопоиске, т. е. при нажатии на всплывающую подсказку, пользователя переносит на страницу этого фильма или сериала.
2. Проблема подсказок в поиске. Подсказки в поиске сделал с помощью эндпоинта /search, который по названию возвращает список фильмов. Как раз этот список я и вывожу.

## Примеры запросов
1. GET /v1/movie/possible-values-by-field - получение списка стран
2. GET /v1.4/image с параметром movieId - получение постеров фильма по ID
3. GET /v1.4/review c параметрами movieId, page, limit - получения отзывов о фильме по ID
4. GET /v1.4/movie/search c параметром query - получение списка фильмов по названию
5. GET /v1.4/season c параметрами movieId, page, limit, sortField='number', sortType=1 - получение списка сезонов по ID. Также были отсортированы по номеру сезона для удобного отображения
6. GET v1.4/movie/{id} - получение фильма по ID
7. GET v1.4/movie с параметрами page, limit, countries.name, ageRating, year - получение списка фильмов
